# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリで作業する際のガイダンスを提供します。

**重要**: Claude Codeとのやり取りは**常に日本語で行ってください**。回答、説明、コメント、エラーメッセージなど、全ての出力を日本語で提供してください。

## Claude Code作業指針

### 言語設定
- **全ての回答・説明を日本語で行う**
- Markdownファイルはすべて日本語で記述
- コードはすべて英語で記述
- エラーメッセージや説明も英語で提供
- CHANGELOG.mdはMarkdownだが、これは例外的に英語で記述する

### ファイル作成・編集方針
- 既存ファイルの編集を優先し、新規作成は最小限に
- コード規約・スタイルは既存コードに合わせる
- セキュリティベストプラクティスの遵守（秘匿情報の保護）

### リリース手法
ユーザーからリリースを要求された場合は、以下の手順を実行してください。各ステップでエラーが発生した場合は、ユーザーにエラーを通知して処理を停止します。

**前提条件**: ビルドが成功すること（`yarn build`）

**ブランチ作業フロー**:
- 現在のワーキングブランチ（通常は`work`）で作業を継続
- プルリクエストは`work` → `main`で作成
- タグ作成とビルドは`main`ブランチで実行

**手順**:
1. CHANGELOG.mdに今回リリース分の変更は記述されていないものとする
2. `yarn build`を実行してビルドが成功することを確認する
3. CHANGELOG.mdの最新バージョンから+1されたバージョンがpackage.jsonに指定されているか確認し、更新されていなかったらpackage.json内のバージョンを新しいバージョン番号に更新する
4. ローカルに変更がある場合は、package.jsonの変更のみをワーキングブランチにコミットする
5. CHANGELOG.mdを参照し、最後のリリース（タグで参照する）から現コミットまでの差分を確認し、CHANGELOG.mdを更新する。タグへのlinkも更新する
6. CHANGELOG.mdの更新のみを別コミットとしてワーキングブランチにコミットする
7. ワーキングブランチをGitHubへpushし、`work` → `main`のプルリクエストを作成する。ユーザーがレビューし、mainブランチへスクワッシュマージするのを待つ
8. mainブランチに切り替えて最新の状態に更新し、CHANGELOG.mdに記載した最新バージョンのタグを作成する
9. mainブランチで`yarn build`を実行し、リリース準備をする
10. npm publishはユーザーに委ねるので、これで終了する

# ドメイン許可設定例
/permissions add url:staticseek.lulliecat.com
